<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ORDO Â· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
/* Ø§Ù„Ø´Ø±ÙŠØ· Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
::-webkit-scrollbar {
  width: var(--scrollbar-size);
  height: var(--scrollbar-size);
}

/* Ø§Ù„Ù…Ø³Ø§Ø± */
::-webkit-scrollbar-track {
  background: var(--scrollbar-bg);
  border-radius: 20px;
  backdrop-filter: blur(6px);
  box-shadow: inset 0 0 6px rgba(0,0,0,0.08);
}

/* Ø§Ù„Ù…Ù‚Ø¨Ø¶ */
::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 20px;
  border: 2px solid transparent;
  background-clip: padding-box;
  transition: 
    transform 0.25s ease,
    background 0.25s ease,
    box-shadow 0.25s ease;
  box-shadow:
    0 0 0px transparent,
    0 2px 8px rgba(0,0,0,0.15);
}

/* ØªØ£Ø«ÙŠØ± Hover */
::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
  transform: scale(1.15);
  box-shadow:
    0 0 12px var(--scrollbar-glow),
    0 4px 12px rgba(0,0,0,0.25);
}

/* Ø¹Ù†Ø¯ Ø§Ù„Ø³Ø­Ø¨ */
::-webkit-scrollbar-thumb:active {
  transform: scale(1.05);
  box-shadow:
    0 0 16px var(--scrollbar-glow),
    inset 0 0 4px rgba(0,0,0,0.2);
}

/* Ø²ÙˆØ§ÙŠØ§ Ø§Ù„ØªÙ‚Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ· */
::-webkit-scrollbar-corner {
  background: transparent;
}

/* Ø¯Ø¹Ù… ÙØ§ÙŠØ±ÙÙˆÙƒØ³ */
* {
  scrollbar-width: thin;
  scrollbar-color: #1b5e42 rgba(0,0,0,0.05);
}

:root{--g:#1b5e42;--gl:#236b50;--gd:#133d2c;--accent:#c8a84b;--w:#fff;--off:#f4f6f5;--text:#1a2a22;--muted:#5a7066;--b:#dde6e2;--red:#c62828}
html,body{min-height:100vh;font-family:'Cairo','Tajawal',sans-serif;direction:rtl;background:var(--off);color:var(--text)}
.wrap{min-height:100vh;display:grid;grid-template-columns:1fr 500px}
.left{background:linear-gradient(160deg,var(--gd),var(--g));position:relative;overflow:hidden;display:flex;flex-direction:column;justify-content:center;padding:4rem 3rem}
.left-geo{position:absolute;inset:0;pointer-events:none}
.gc{position:absolute;border-radius:50%;border:1px solid rgba(255,255,255,0.06)}
.gc:nth-child(1){width:500px;height:500px;top:-100px;left:-150px}
.gc:nth-child(2){width:300px;height:300px;top:150px;left:-50px}
.gc:nth-child(3){width:150px;height:150px;bottom:80px;right:40px}
.left-brand{display:flex;align-items:center;gap:1rem;margin-bottom:3rem}
.left-logo{font-family:'Tajawal',sans-serif;font-size:2rem;font-weight:800;color:var(--w);letter-spacing:4px}
.left-flag{width:28px;height:18px;border-radius:3px;object-fit:cover}
.left-h{font-family:'Tajawal',sans-serif;font-size:clamp(1.8rem,3vw,2.6rem);font-weight:800;color:var(--w);line-height:1.2;margin-bottom:1rem}
.left-h span{color:var(--accent)}
.left-p{font-size:.88rem;color:rgba(255,255,255,0.6);line-height:1.9;font-weight:300;max-width:380px;margin-bottom:2.5rem}
.feats{display:flex;flex-direction:column;gap:.9rem}
.feat{display:flex;align-items:center;gap:.9rem;font-size:.82rem;color:rgba(255,255,255,0.75)}
.feat i{width:34px;height:34px;background:rgba(255,255,255,0.08);border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--accent);font-size:.88rem;flex-shrink:0}
.left-foot{position:absolute;bottom:1.8rem;left:3rem;font-size:.72rem;color:rgba(255,255,255,0.28)}
.right{background:var(--w);overflow-y:auto;display:flex;flex-direction:column}
.ri{padding:2.5rem 2rem;flex:1;display:flex;flex-direction:column;max-width:460px;margin:0 auto;width:100%}
.mode-sel{display:grid;grid-template-columns:1fr 1fr;gap:.7rem;margin-bottom:1.8rem}
.mbtn{padding:1rem;border:2px solid var(--b);border-radius:12px;background:var(--w);cursor:pointer;text-align:center;transition:all .2s;font-family:'Cairo',sans-serif}
.mbtn i{display:block;font-size:1.5rem;color:var(--muted);margin-bottom:.4rem;transition:color .2s}
.mbtn b{display:block;font-size:.78rem;font-weight:700;color:var(--muted)}
.mbtn small{display:block;font-size:.65rem;color:#9ab;margin-top:.15rem}
.mbtn.act{border-color:var(--g);background:rgba(27,94,66,0.05)}
.mbtn.act i,.mbtn.act b{color:var(--g)}
.tabs{display:flex;border-bottom:2px solid var(--b);margin-bottom:1.8rem}
.tab{flex:1;padding:.8rem;background:none;border:none;font-family:'Cairo',sans-serif;font-size:.85rem;font-weight:700;color:var(--muted);cursor:pointer;border-bottom:2.5px solid transparent;margin-bottom:-2px;transition:all .2s}
.tab.act{color:var(--g);border-bottom-color:var(--g)}
.scr{display:none}.scr.act{display:block}
.sc-h{font-family:'Tajawal',sans-serif;font-size:1.55rem;font-weight:800;color:var(--text);margin-bottom:.25rem}
.sc-p{font-size:.79rem;color:var(--muted);margin-bottom:1.4rem;line-height:1.7}
.info-b{display:flex;gap:.6rem;background:rgba(27,94,66,0.06);border:1px solid rgba(27,94,66,0.14);border-radius:9px;padding:.8rem;margin-bottom:1.2rem;font-size:.77rem;color:var(--g);line-height:1.7}
.info-b i{flex-shrink:0;margin-top:2px}
.fg{margin-bottom:.95rem;position:relative}
.fg label{display:block;font-size:.73rem;font-weight:700;color:var(--text);margin-bottom:.35rem}
.req{color:var(--red);margin-right:2px}
.fi{position:relative}
.fi .field{padding-right:2.6rem}
.fi .ico{position:absolute;right:.85rem;top:50%;transform:translateY(-50%);color:var(--muted);font-size:.82rem;pointer-events:none}
.fi .tpw{position:absolute;left:.85rem;top:50%;transform:translateY(-50%);color:var(--muted);font-size:.8rem;cursor:pointer}
.field{width:100%;padding:.75rem .9rem;border:1.5px solid var(--b);border-radius:10px;font-family:'Cairo',sans-serif;font-size:.84rem;color:var(--text);background:var(--w);outline:none;transition:all .2s;appearance:none;-webkit-appearance:none}
.field:focus{border-color:var(--g);box-shadow:0 0 0 3px rgba(27,94,66,0.07)}
.field.er{border-color:var(--red);box-shadow:0 0 0 3px rgba(198,40,40,0.06)}
.field::placeholder{color:#b5c9c2;font-weight:300}
.errmsg{display:none;font-size:.69rem;color:var(--red);margin-top:.28rem;font-weight:500}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:.85rem}
.pw-bw{height:3px;background:var(--b);border-radius:2px;margin-top:.38rem;overflow:hidden}
.pw-b{height:100%;width:0;border-radius:2px;transition:all .3s}
.pw-h{font-size:.67rem;color:var(--muted);margin-top:.22rem}
.steps{display:flex;align-items:center;margin-bottom:1.3rem}
.sd{width:27px;height:27px;border-radius:50%;border:2px solid var(--b);display:flex;align-items:center;justify-content:center;font-size:.67rem;font-weight:700;color:var(--muted);flex-shrink:0;transition:all .25s}
.sd.act{border-color:var(--g);color:var(--g)}
.sd.done{background:var(--g);border-color:var(--g);color:var(--w)}
.sl{flex:1;height:2px;background:var(--b);transition:background .25s}
.sl.done{background:var(--g)}
.slbs{display:flex;justify-content:space-between;margin-bottom:1.2rem}
.slb{font-size:.62rem;color:var(--muted);flex:1;text-align:center}
.slb.act{color:var(--g);font-weight:700}
.tsl{font-size:.64rem;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:.22rem .55rem;border-radius:5px;display:inline-block;margin:.7rem 0 .35rem}
.tsl.pub{background:rgba(27,94,66,0.1);color:var(--g)}
.tsl.priv{background:rgba(200,168,75,0.12);color:var(--accent)}
.tsl.cit{background:rgba(33,150,243,0.1);color:#1565c0}
.tgrid{display:grid;grid-template-columns:repeat(3,1fr);gap:.45rem}
.tc{padding:.65rem .35rem;border:1.5px solid var(--b);border-radius:9px;cursor:pointer;text-align:center;transition:all .18s;position:relative}
.tc:hover{border-color:var(--g);background:rgba(27,94,66,0.03)}
.tc.sel{border-color:var(--g);background:rgba(27,94,66,0.06)}
.tc.sel::after{content:'\f00c';font-family:'Font Awesome 6 Free';font-weight:900;position:absolute;top:4px;left:5px;font-size:.52rem;color:var(--g)}
.tc i{display:block;font-size:1rem;color:var(--g);margin-bottom:.3rem}
.tc span{font-size:.68rem;font-weight:700;color:var(--text)}
.tc-cit{grid-column:span 3;display:flex;align-items:center;gap:.7rem;text-align:right;padding:.75rem .9rem}
.tc-cit i{font-size:1.3rem;margin:0;flex-shrink:0}
.tc-cit .tct strong{display:block;font-size:.8rem;font-weight:700}
.tc-cit .tct small{font-size:.66rem;color:var(--muted);font-weight:400}
.rstep{display:none}.rstep.act{display:block}
.btn{display:flex;align-items:center;justify-content:center;gap:.55rem;width:100%;padding:.85rem;background:var(--g);color:var(--w);border:none;border-radius:10px;font-family:'Cairo',sans-serif;font-size:.88rem;font-weight:700;cursor:pointer;transition:all .25s;margin-top:.3rem}
.btn:hover{background:var(--gd);transform:translateY(-2px);box-shadow:0 5px 16px rgba(27,94,66,.2)}
.btn.out{background:transparent;color:var(--g);border:1.5px solid var(--g)}
.btn.out:hover{background:rgba(27,94,66,0.04);transform:translateY(-2px)}
.sum-b{background:var(--off);border:1px solid var(--b);border-radius:9px;padding:.8rem 1rem;margin-bottom:.9rem;font-size:.76rem;line-height:2;color:var(--muted)}
.sum-b strong{color:var(--text)}
.sbox{text-align:center;padding:2rem 1rem}
.si{width:68px;height:68px;background:rgba(27,94,66,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 1.1rem;font-size:1.7rem;color:var(--g)}
.sbox h3{font-family:'Tajawal',sans-serif;font-size:1.25rem;font-weight:800;margin-bottom:.45rem}
.sbox p{font-size:.8rem;color:var(--muted);line-height:1.8;margin-bottom:1.2rem}
.or-d{display:flex;align-items:center;gap:.7rem;margin:.9rem 0;color:var(--muted);font-size:.73rem}
.or-d::before,.or-d::after{content:'';flex:1;height:1px;background:var(--b)}
@media(max-width:860px){
  .wrap{grid-template-columns:1fr}
  .left{display:none}
  .right{min-height:100vh}
}
@media(max-width:520px){
  /* layout */
  .ri{padding:1.4rem 1rem}
  .frow{grid-template-columns:1fr}
  /* prevent iOS zoom on inputs (must be >=16px) */
  .field{font-size:16px!important;padding:.8rem .85rem}
  select.field{font-size:16px!important}
  /* buttons â€“ minimum 44px tap target */
  .btn{padding:.9rem;min-height:48px;font-size:.88rem}
  .tab{padding:.75rem .5rem;font-size:.78rem}
  /* mode selector */
  .mbtn{padding:.8rem .4rem}
  .mbtn small{display:none}
  /* type grid */
  .tgrid{grid-template-columns:repeat(2,1fr)}
  .tc-cit{grid-column:span 2}
  /* heading */
  .sc-h{font-size:1.3rem}
  .sc-p{font-size:.75rem}
  /* map */
  .map-wrap #reg-map{height:185px}
  .coords-row{grid-template-columns:1fr}
  /* locate button */
  #reg-locate-btn{width:100%;justify-content:center;min-height:44px;font-size:.8rem}
  /* step nav row */
  .frow .btn{margin-top:0}
  .slb{font-size:.58rem}
}
/* MAP */
.map-wrap{position:relative;border-radius:12px;overflow:hidden;border:1.5px solid var(--b);margin-bottom:.95rem}
.map-wrap #reg-map{height:220px;width:100%;z-index:1}
.map-overlay{position:absolute;top:8px;right:8px;z-index:10;display:flex;flex-direction:column;gap:5px}
.map-tip{position:absolute;bottom:8px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.55);color:#fff;font-size:.65rem;padding:.28rem .75rem;border-radius:50px;white-space:nowrap;z-index:10;pointer-events:none;font-family:'Cairo',sans-serif}
.coords-row{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;margin-bottom:.95rem}
.coord-badge{background:rgba(27,94,66,.06);border:1.5px solid rgba(27,94,66,.18);border-radius:9px;padding:.55rem .9rem;font-size:.74rem;color:var(--text);font-family:'Cairo',sans-serif;display:flex;align-items:center;gap:.4rem}
.coord-badge i{color:var(--g);font-size:.8rem;flex-shrink:0}
.coord-badge span{font-weight:700;color:var(--g)}
</style>
</head>
<body>
<div class="wrap">
<div class="left">
  <div class="left-geo"><div class="gc"></div><div class="gc"></div><div class="gc"></div></div>
  <div class="left-brand">
    <img src="https://upload.wikimedia.org/wikipedia/commons/7/77/Flag_of_Algeria.svg" class="left-flag" alt="">
    <span class="left-logo">ORDO</span>
  </div>
  <h1 class="left-h">Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©<br>Ù„Ù„Ø®Ø¯Ù…Ø§Øª <span>Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©</span></h1>
  <p class="left-p">Ù…Ù†ØµØ© ORDO ØªØ±Ø¨Ø· Ø§Ù„Ù…ÙˆØ§Ø·Ù† Ø¨Ø§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ø®Ø§ØµØ© Ù„Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯Ù‡ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Ù‹ Ø¯ÙˆÙ† Ø§Ù†ØªØ¸Ø§Ø±.</p>
  <div class="feats">
    <div class="feat"><i class="fas fa-shield-halved"></i>Ù…Ù†ØµØ© Ø­ÙƒÙˆÙ…ÙŠØ© Ø¢Ù…Ù†Ø© ÙˆÙ…Ø¹ØªÙ…Ø¯Ø©</div>
    <div class="feat"><i class="fas fa-bolt"></i>Ø­Ø¬Ø² ÙÙˆØ±ÙŠ â€” Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ¸Ø§Ø±</div>
    <div class="feat"><i class="fas fa-map-location-dot"></i>ØªØºØ·ÙŠØ© 58 ÙˆÙ„Ø§ÙŠØ© Ø¬Ø²Ø§Ø¦Ø±ÙŠØ©</div>
    <div class="feat"><i class="fas fa-bell"></i>ØªØ°ÙƒÙŠØ±Ø§Øª Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠØ© Ø¨Ù…ÙˆØ¹Ø¯Ùƒ</div>
  </div>
  <div class="left-foot">Â© 2026 ORDO â€” Ø§Ù„Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø§Ù„Ø¯ÙŠÙ…Ù‚Ø±Ø§Ø·ÙŠØ© Ø§Ù„Ø´Ø¹Ø¨ÙŠØ©</div>
</div>

<div class="right">
<div class="ri">
  <!-- Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <a href="index.html" style="display:inline-flex;align-items:center;gap:.45rem;font-family:'Cairo',sans-serif;font-size:.76rem;font-weight:700;color:var(--muted);text-decoration:none;margin-bottom:1.2rem;transition:color .18s;width:fit-content" onmouseover="this.style.color='var(--g)'" onmouseout="this.style.color='var(--muted)'">
    <i class="fas fa-arrow-right"></i>Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  </a>

  <div style="text-align:center;margin-bottom:1.5rem">
    <div style="font-family:'Tajawal',sans-serif;font-size:1.35rem;font-weight:800;color:var(--text);margin-bottom:.25rem">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ORDO</div>
    <div style="font-size:.76rem;color:var(--muted)">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</div>
  </div>

  <div class="mode-sel">
    <div class="mbtn act" id="mb-c" onclick="setMode('citizen')">
      <i class="fas fa-user"></i><b>Ù…ÙˆØ§Ø·Ù†</b><small>Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø¥Ø¯Ø§Ø±ÙŠØ©</small>
    </div>
    <div class="mbtn" id="mb-f" onclick="setMode('facility')">
      <i class="fas fa-building-columns"></i><b>Ù…Ø±ÙÙ‚ / Ù…Ø¤Ø³Ø³Ø©</b><small>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„ÙˆØ§Ø±Ø¯Ø©</small>
    </div>
  </div>

  <div class="tabs">
    <button class="tab act" id="tl" onclick="switchTab('login')">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    <button class="tab" id="tr" onclick="switchTab('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
  </div>

  <!-- LOGIN -->
  <div class="scr act" id="scr-login">
    <div id="lc">
      <div class="sc-h">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ø¹ÙˆØ¯ØªÙƒ</div>
      <p class="sc-p">Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¨Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ (NIN)</p>
      <div class="info-b"><i class="fas fa-circle-info"></i><span>Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ Ù‡Ùˆ Ù…ÙØªØ§Ø­ Ø­Ø³Ø§Ø¨Ùƒ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©</span></div>
      <div class="fg">
        <label>Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-id-card"></i><input class="field" id="ln-nin" type="text" placeholder="18 Ø±Ù‚Ù…Ø§Ù‹" maxlength="18" oninput="onlyN(this)"></div>
        <div class="errmsg" id="ln-nin-e">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… ØªØ¹Ø±ÙŠÙ ÙˆØ·Ù†ÙŠ ØµØ­ÙŠØ­ (18 Ø±Ù‚Ù…Ø§Ù‹)</div>
      </div>
      <div class="fg">
        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-lock"></i><input class="field" id="ln-pw" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"><i class="tpw fas fa-eye" onclick="tpw('ln-pw',this)"></i></div>
        <div class="errmsg" id="ln-pw-e">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
      </div>
      <div style="text-align:left;margin:.2rem 0 .7rem"><a href="#" style="font-size:.73rem;color:var(--g);text-decoration:none;font-weight:600">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a></div>
      <button class="btn" onclick="loginC()"><i class="fas fa-arrow-left"></i>Ø¯Ø®ÙˆÙ„</button>
      <div class="or-d">Ø£Ùˆ</div>
      <button class="btn out" onclick="switchTab('register')">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</button>
    </div>
    <div id="lf" style="display:none">
      <div class="sc-h">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ù…Ø±Ø§ÙÙ‚</div>
      <p class="sc-p">Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¨Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ</p>
      <div class="fg">
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-envelope"></i><input class="field" id="lf-em" type="email" placeholder="facility@wilaya.dz"></div>
        <div class="errmsg" id="lf-em-e">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
      </div>
      <div class="fg">
        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-lock"></i><input class="field" id="lf-pw" type="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"><i class="tpw fas fa-eye" onclick="tpw('lf-pw',this)"></i></div>
        <div class="errmsg" id="lf-pw-e">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©</div>
      </div>
      <button class="btn" onclick="loginF()"><i class="fas fa-arrow-left"></i>Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø±ÙÙ‚</button>
      <div class="or-d">Ø£Ùˆ</div>
      <button class="btn out" onclick="switchTab('register')">ØªØ³Ø¬ÙŠÙ„ Ù…Ø±ÙÙ‚ Ø¬Ø¯ÙŠØ¯</button>
    </div>
  </div>

  <!-- REGISTER -->
  <div class="scr" id="scr-reg">
    <!-- CITIZEN REG -->
    <div id="rc">
      <div class="sc-h">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ù…ÙˆØ§Ø·Ù†</div>
      <p class="sc-p">3 Ø®Ø·ÙˆØ§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ</p>
      <div class="steps">
        <div class="sd act" id="cd1">1</div><div class="sl" id="cl1"></div>
        <div class="sd" id="cd2">2</div><div class="sl" id="cl2"></div>
        <div class="sd" id="cd3">3</div>
      </div>
      <div class="slbs">
        <span class="slb act" id="cs1">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨</span>
        <span class="slb" id="cs2">Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</span>
        <span class="slb" id="cs3">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</span>
      </div>

      <!-- s1 â€” citizen only -->
      <div class="rstep act" id="cst1">
        <div style="text-align:center;padding:1.2rem 0 1rem">
          <div style="width:68px;height:68px;border-radius:50%;background:rgba(27,94,66,0.08);display:flex;align-items:center;justify-content:center;margin:0 auto .9rem;font-size:1.8rem;color:var(--g)"><i class="fas fa-user"></i></div>
          <div style="font-family:'Tajawal',sans-serif;font-size:1.1rem;font-weight:800;color:var(--text);margin-bottom:.4rem">Ø­Ø³Ø§Ø¨ Ù…ÙˆØ§Ø·Ù†</div>
          <div style="font-size:.78rem;color:var(--muted);line-height:1.8">Ø³ÙŠÙÙ†Ø´Ø£ Ø­Ø³Ø§Ø¨Ùƒ ÙƒÙ…ÙˆØ§Ø·Ù† Ù„Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ù…Ù† Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø¬Ø² Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.<br>Ø¥Ø°Ø§ ÙƒÙ†Øª Ù…Ø±ÙÙ‚Ø§Ù‹ Ø£Ùˆ Ù…Ø¤Ø³Ø³Ø©ØŒ Ø§Ø®ØªØ± <strong style="color:var(--g)">Ù…Ø±ÙÙ‚ / Ù…Ø¤Ø³Ø³Ø©</strong> ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰.</div>
        </div>
        <div style="background:rgba(27,94,66,0.06);border:1px solid rgba(27,94,66,0.14);border-radius:10px;padding:.85rem 1rem;margin:.8rem 0 1rem;font-size:.77rem;color:var(--g);display:flex;align-items:flex-start;gap:.65rem;line-height:1.7">
          <i class="fas fa-circle-info" style="margin-top:2px;flex-shrink:0"></i>
          <span>Ø³ØªØªÙ…ÙƒÙ† Ù…Ù† Ø­Ø¬Ø² Ù…ÙˆØ§Ø¹ÙŠØ¯ ÙÙŠ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ§ØªØŒ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§ØªØŒ Ø§Ù„Ù…Ø­Ø§ÙƒÙ…ØŒ ÙˆØ¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙÙ‚ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠ ÙˆÙ„Ø§ÙŠØªÙƒ</span>
        </div>
        <button class="btn" onclick="cType='Ù…ÙˆØ§Ø·Ù†';cSt(2)"><i class="fas fa-arrow-left"></i>Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙƒÙ…ÙˆØ§Ø·Ù†</button>
      </div>

      <!-- s2 -->
      <div class="rstep" id="cst2">
        <div class="frow">
          <div class="fg"><label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø´Ø®ØµÙŠ <span class="req">*</span></label><input class="field" id="c-fn" type="text" placeholder="Ø§Ù„Ø§Ø³Ù…"></div>
          <div class="fg"><label>Ø§Ù„Ù„Ù‚Ø¨ Ø§Ù„Ø¹Ø§Ø¦Ù„ÙŠ <span class="req">*</span></label><input class="field" id="c-ln" type="text" placeholder="Ø§Ù„Ù„Ù‚Ø¨" oninput="document.getElementById('c-fln').value=this.value"></div>
        </div>
        <div class="frow">
          <div class="fg"><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ <span class="req">*</span></label><input class="field" id="c-dob" type="date"></div>
          <div class="fg"><label>Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ / Ø§Ù„Ø¨Ù„Ø¯ÙŠØ© <span class="req">*</span></label><input class="field" id="c-pob" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ù„Ø¯ÙŠØ© ØªÙŠØ§Ø±Øª"></div>
        </div>
        <div class="frow">
          <div class="fg"><label>Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ <span class="req">*</span></label><input class="field" id="c-ffn" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ Ø§Ù„Ø´Ø®ØµÙŠ"></div>
          <div class="fg"><label>Ù„Ù‚Ø¨ Ø§Ù„Ø£Ø¨ <small style="font-weight:400;color:var(--muted)">(ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ù„Ù‚Ø¨ Ø§Ù„Ø§Ø¨Ù†)</small></label><input class="field" id="c-fln" type="text" placeholder="ÙŠÙÙ…Ù„Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹" readonly style="background:var(--off);color:var(--muted)"></div>
        </div>
        <div class="frow">
          <div class="fg"><label>Ø§Ø³Ù… Ø§Ù„Ø£Ù… <span class="req">*</span></label><input class="field" id="c-mfn" type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ø£Ù… Ø§Ù„Ø´Ø®ØµÙŠ"></div>
          <div class="fg"><label>Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù…   <span class="req">*</span></label><input class="field" id="c-mln" type="text" placeholder="Ù„Ù‚Ø¨ Ø§Ù„Ø£Ù… "></div>
        </div>
        <div class="fg"><label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-envelope"></i><input class="field" id="c-em" type="email" placeholder="example@email.com"></div></div>
        <div class="fg"><label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-phone"></i><input class="field" id="c-ph" type="tel" placeholder="05 XX XX XX XX"></div></div>
        <div class="fg"><label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ© <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-map-location-dot"></i>
          <select class="field" id="c-wil">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>
            <option>ØªÙŠØ§Ø±Øª</option><option>Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option><option>ÙˆÙ‡Ø±Ø§Ù†</option><option>Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
            <option>Ø¹Ù†Ø§Ø¨Ø©</option><option>Ø³Ø·ÙŠÙ</option><option>Ø¨Ø¬Ø§ÙŠØ©</option><option>ØªÙ„Ù…Ø³Ø§Ù†</option>
            <option>Ø¨Ø³ÙƒØ±Ø©</option><option>ÙˆØ±Ù‚Ù„Ø©</option><option>Ø§Ù„Ù…Ø¯ÙŠØ©</option><option>Ø§Ù„Ø¨ÙˆÙŠØ±Ø©</option>
            <option>ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option><option>Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option><option>Ø¨Ø§ØªÙ†Ø©</option><option>Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³</option>
            <option>Ù…Ø³ØªØºØ§Ù†Ù…</option><option>Ù…Ø¹Ø³ÙƒØ±</option><option>Ø§Ù„Ø£ØºÙˆØ§Ø·</option><option>ØºÙ„ÙŠØ²Ø§Ù†</option>
            <option>Ø§Ù„Ø´Ù„Ù</option><option>ØªØ¨Ø³Ø©</option><option>Ø®Ù†Ø´Ù„Ø©</option><option>Ø³ÙƒÙŠÙƒØ¯Ø©</option>
            <option>Ø¬ÙŠØ¬Ù„</option><option>Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ</option><option>Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option><option>Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰</option>
            <option>ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª</option><option>Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬</option><option>Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</option><option>Ø¹ÙŠÙ† ØªÙ…ÙˆØ´Ù†Øª</option>
            <option>Ù…ÙŠÙ„Ø©</option><option>ØºØ±Ø¯Ø§ÙŠØ©</option><option>Ø§Ù„ÙˆØ§Ø¯ÙŠ</option><option>ØªÙ†Ø¯ÙˆÙ</option>
            <option>Ø¥Ù„ÙŠØ²ÙŠ</option><option>ØªÙ…Ù†Ø±Ø§Ø³Øª</option><option>Ø£Ø¯Ø±Ø§Ø±</option><option>Ø¨Ø´Ø§Ø±</option>
            <option>Ø§Ù„Ø¨ÙŠØ¶</option><option>Ø§Ù„Ù†Ø¹Ø§Ù…Ø©</option><option>Ø§Ù„Ø¬Ù„ÙØ©</option><option>ØªÙŠØ¨Ø§Ø²Ø©</option>
            <option>Ø§Ù„Ø·Ø§Ø±Ù</option><option>Ù‚Ø§Ù„Ù…Ø©</option>
          </select></div></div>
        <div class="fg"><label>Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ (NIN) <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-id-card"></i><input class="field" id="c-nin" type="text" placeholder="18 Ø±Ù‚Ù…Ø§Ù‹" maxlength="18" oninput="onlyN(this)"></div>
          <div class="errmsg" id="c-nin-e">ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªÙƒÙˆÙ† Ù…Ù† 18 Ø±Ù‚Ù…Ø§Ù‹ Ø¨Ø§Ù„Ø¶Ø¨Ø·</div></div>
        <div class="fg"><label>Ø±Ù‚Ù… Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-file-certificate"></i><input class="field" id="c-bcn" type="text" placeholder="Ù…Ø«Ø§Ù„: 1234/2000"></div>
          <div class="errmsg" id="c-bcn-e">Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</div></div>
        <div class="frow">
          <div class="fg"><label>Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© <span class="req">*</span></label><input class="field" id="c-fn-fr" type="text" placeholder="PrÃ©nom en franÃ§ais" style="direction:ltr;text-align:left"></div>
          <div class="fg"><label>Ø§Ù„Ù„Ù‚Ø¨ Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© <span class="req">*</span></label><input class="field" id="c-ln-fr" type="text" placeholder="Nom en franÃ§ais" style="direction:ltr;text-align:left"></div>
        </div>
        <div class="frow">
          <button class="btn out" onclick="cSt(1)"><i class="fas fa-arrow-right"></i>Ø±Ø¬ÙˆØ¹</button>
          <button class="btn" style="margin-top:0" onclick="cSt(3)">Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i></button>
        </div>
      </div>

      <!-- s3 -->
      <div class="rstep" id="cst3">
        <div class="sum-b">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨: <strong id="c-st">â€”</strong> | Ø§Ù„ÙˆÙ„Ø§ÙŠØ©: <strong id="c-sw">â€”</strong></div>
        <div class="fg"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-lock"></i>
            <input class="field" id="c-pw" type="password" placeholder="8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„" oninput="ckpw(this.value,'cpb','cph')">
            <i class="tpw fas fa-eye" onclick="tpw('c-pw',this)"></i></div>
          <div class="pw-bw"><div class="pw-b" id="cpb"></div></div>
          <div class="pw-h" id="cph">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©</div></div>
        <div class="fg"><label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
          <div class="fi"><i class="ico fas fa-lock"></i>
            <input class="field" id="c-pw2" type="password" placeholder="Ø£Ø¹Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©">
            <i class="tpw fas fa-eye" onclick="tpw('c-pw2',this)"></i></div>
          <div class="errmsg" id="c-pw2-e">ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†</div></div>
        <div class="frow">
          <button class="btn out" onclick="cSt(2)"><i class="fas fa-arrow-right"></i>Ø±Ø¬ÙˆØ¹</button>
          <button class="btn" style="margin-top:0" onclick="doRC()"><i class="fas fa-check"></i>Ø¥Ù†Ø´Ø§Ø¡</button>
        </div>
      </div>

      <!-- success -->
      <div class="rstep" id="cst-ok">
        <div class="sbox">
          <div class="si"><i class="fas fa-circle-check"></i></div>
          <h3>ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ!</h3>
          <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.</p>
          <button class="btn" onclick="switchTab('login')"><i class="fas fa-arrow-left"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        </div>
      </div>
    </div>

    <!-- FACILITY REG -->
    <div id="rf" style="display:none">
      <div class="sc-h">ØªØ³Ø¬ÙŠÙ„ Ù…Ø±ÙÙ‚</div>
      <p class="sc-p">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨ Ù…Ø±ÙÙ‚Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠ Ø¹Ù„Ù‰ Ù…Ù†ØµØ© ORDO</p>
      <div class="fg"><label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙÙ‚ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-building"></i>
        <select class="field" id="f-tp">
          <option value="">-- Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙÙ‚ --</option>
          <optgroup label="Ù…Ø±Ø§ÙÙ‚ Ø¹Ø§Ù…Ø©">
            <option>Ø¨Ù„Ø¯ÙŠØ©</option><option>ÙˆÙ„Ø§ÙŠØ©</option><option>Ø¯Ø§Ø¦Ø±Ø©</option>
            <option>Ø³ÙˆÙ†Ù„ØºØ§Ø²</option><option>Ø³ÙŠØ§Ù„</option><option>Ù…Ø­ÙƒÙ…Ø©</option>
          </optgroup>
          <optgroup label="Ù…Ø±Ø§ÙÙ‚ Ø®Ø§ØµØ©">
            <option>Ù…ÙˆØ«Ù‚</option><option>Ù…Ø­Ø§Ù…ÙŠ</option><option>Ù…Ø­Ø¶Ø± Ù‚Ø¶Ø§Ø¦ÙŠ</option><option>Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù…Ø§Ø±ÙŠ</option>
          </optgroup>
        </select></div>
        <div class="errmsg" id="f-tp-e">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø±ÙÙ‚</div></div>
      <div class="fg"><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙÙ‚ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-landmark"></i><input class="field" id="f-nm" type="text" placeholder="Ù…Ø«Ø§Ù„: Ø¨Ù„Ø¯ÙŠØ© ØªÙŠØ§Ø±Øª Ø§Ù„Ù…Ø±ÙƒØ²"></div>
        <div class="errmsg" id="f-nm-e">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙÙ‚</div></div>
      <div class="fg"><label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ© <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-map-location-dot"></i>
        <select class="field" id="f-wil">
          <option value="">-- Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ© --</option>
          <option>ØªÙŠØ§Ø±Øª</option><option>Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±</option><option>ÙˆÙ‡Ø±Ø§Ù†</option><option>Ù‚Ø³Ù†Ø·ÙŠÙ†Ø©</option>
          <option>Ø¹Ù†Ø§Ø¨Ø©</option><option>Ø³Ø·ÙŠÙ</option><option>Ø¨Ø¬Ø§ÙŠØ©</option><option>ØªÙ„Ù…Ø³Ø§Ù†</option>
          <option>Ø¨Ø³ÙƒØ±Ø©</option><option>ÙˆØ±Ù‚Ù„Ø©</option><option>Ø§Ù„Ù…Ø¯ÙŠØ©</option><option>Ø§Ù„Ø¨ÙˆÙŠØ±Ø©</option>
          <option>ØªÙŠØ²ÙŠ ÙˆØ²Ùˆ</option><option>Ø§Ù„Ù…Ø³ÙŠÙ„Ø©</option><option>Ø¨Ø§ØªÙ†Ø©</option><option>Ø³ÙŠØ¯ÙŠ Ø¨Ù„Ø¹Ø¨Ø§Ø³</option>
          <option>Ù…Ø³ØªØºØ§Ù†Ù…</option><option>Ù…Ø¹Ø³ÙƒØ±</option><option>Ø§Ù„Ø£ØºÙˆØ§Ø·</option><option>ØºÙ„ÙŠØ²Ø§Ù†</option>
          <option>Ø§Ù„Ø´Ù„Ù</option><option>ØªØ¨Ø³Ø©</option><option>Ø®Ù†Ø´Ù„Ø©</option><option>Ø³ÙƒÙŠÙƒØ¯Ø©</option>
          <option>Ø¬ÙŠØ¬Ù„</option><option>Ø£Ù… Ø§Ù„Ø¨ÙˆØ§Ù‚ÙŠ</option><option>Ø³ÙˆÙ‚ Ø£Ù‡Ø±Ø§Ø³</option><option>Ø¹ÙŠÙ† Ø§Ù„Ø¯ÙÙ„Ù‰</option>
          <option>ØªÙŠØ³Ù…Ø³ÙŠÙ„Øª</option><option>Ø¨Ø±Ø¬ Ø¨ÙˆØ¹Ø±ÙŠØ±ÙŠØ¬</option><option>Ø¨ÙˆÙ…Ø±Ø¯Ø§Ø³</option><option>Ù…ÙŠÙ„Ø©</option>
          <option>ØºØ±Ø¯Ø§ÙŠØ©</option><option>Ø§Ù„ÙˆØ§Ø¯ÙŠ</option><option>Ø¥Ù„ÙŠØ²ÙŠ</option><option>ØªÙ…Ù†Ø±Ø§Ø³Øª</option>
          <option>Ø£Ø¯Ø±Ø§Ø±</option><option>Ø¨Ø´Ø§Ø±</option><option>Ø§Ù„Ø¨ÙŠØ¶</option><option>Ø§Ù„Ù†Ø¹Ø§Ù…Ø©</option>
          <option>Ø§Ù„Ø¬Ù„ÙØ©</option><option>ØªÙŠØ¨Ø§Ø²Ø©</option><option>Ø§Ù„Ø·Ø§Ø±Ù</option><option>Ù‚Ø§Ù„Ù…Ø©</option>
        </select></div>
        <div class="errmsg" id="f-wil-e">Ø§Ø®ØªØ± Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</div></div>
      <div class="fg"><label>Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„</label>
        <div class="fi"><i class="ico fas fa-map-marker-alt"></i><input class="field" id="f-ad" type="text" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ"></div></div>

      <!-- MAP LOCATION PICKER -->
      <div class="fg">
        <label><i class="fas fa-map-location-dot" style="color:var(--g);margin-left:4px"></i>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø±ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© <span style="font-size:.65rem;color:var(--muted);font-weight:400">(Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹)</span></label>
        <div style="display:flex;gap:.5rem;margin-bottom:.55rem">
          <button type="button" id="reg-locate-btn" onclick="regLocateMe()" style="display:flex;align-items:center;gap:.45rem;padding:.5rem 1rem;background:var(--g);color:#fff;border:none;border-radius:8px;font-family:'Cairo',sans-serif;font-size:.76rem;font-weight:700;cursor:pointer;transition:all .2s">
            <i class="fas fa-location-crosshairs"></i>ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
          </button>
        </div>
        <div class="map-wrap">
          <div id="reg-map"></div>
          <div class="map-tip" id="reg-map-tip">ğŸ“ Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙÙ‚Ùƒ</div>
        </div>
        <div class="coords-row" id="coords-row" style="display:none">
          <div class="coord-badge"><i class="fas fa-arrows-up-down"></i>Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶: <span id="disp-lat">â€”</span></div>
          <div class="coord-badge"><i class="fas fa-arrows-left-right"></i>Ø®Ø· Ø§Ù„Ø·ÙˆÙ„: <span id="disp-lng">â€”</span></div>
        </div>
      </div>
      <div class="fg"><label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø±Ø³Ù…ÙŠ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-phone"></i><input class="field" id="f-ph" type="tel" placeholder="04X XX XX XX"></div></div>
      <div class="fg"><label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-envelope"></i><input class="field" id="f-em" type="email" placeholder="facility@wilaya.dz"></div>
        <div class="errmsg" id="f-em-e">Ø¨Ø±ÙŠØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ù…Ø³Ø¬Ù‘Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹</div></div>
      <div class="fg"><label>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ (Ø§Ù„Ø£Ø­Ø¯ â€“ Ø§Ù„Ø®Ù…ÙŠØ³)</label>
        <div class="frow" style="gap:.5rem">
          <div class="fi"><i class="ico fas fa-clock"></i><input class="field" id="f-fr" type="time" value="08:00"></div>
          <div class="fi"><i class="ico fas fa-clock"></i><input class="field" id="f-to" type="time" value="16:30"></div>
        </div></div>
      <div class="fg"><label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-lock"></i>
          <input class="field" id="f-pw" type="password" placeholder="8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„" oninput="ckpw(this.value,'fpb','fph')">
          <i class="tpw fas fa-eye" onclick="tpw('f-pw',this)"></i></div>
        <div class="pw-bw"><div class="pw-b" id="fpb"></div></div>
        <div class="pw-h" id="fph">Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©</div></div>
      <div class="fg"><label>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± <span class="req">*</span></label>
        <div class="fi"><i class="ico fas fa-lock"></i>
          <input class="field" id="f-pw2" type="password" placeholder="Ø£Ø¹Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©">
          <i class="tpw fas fa-eye" onclick="tpw('f-pw2',this)"></i></div>
        <div class="errmsg" id="f-pw2-e">ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†</div></div>
      <button class="btn" onclick="doRF()"><i class="fas fa-check"></i>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø±ÙÙ‚</button>
      <div class="or-d">Ø£Ùˆ</div>
      <button class="btn out" onclick="switchTab('login')">Ù„Ø¯ÙŠÙ‘ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„</button>
    </div>
  </div><!-- /scr-reg -->

</div></div><!-- /ri /right -->
</div><!-- /wrap -->

<script>
var mode='citizen', cType='';
function gv(id){return(document.getElementById(id)||{}).value||'';}
function se(id){var e=document.getElementById(id);if(e)e.style.display='block';}
function he(id){var e=document.getElementById(id);if(e)e.style.display='none';}
function erf(id){var e=document.getElementById(id);if(e){e.classList.add('er');e.addEventListener('input',function(){this.classList.remove('er');},{once:true});}}
function onlyN(el){el.value=el.value.replace(/\D/g,'');}
function tpw(id,ico){var f=document.getElementById(id);if(!f)return;if(f.type==='password'){f.type='text';ico.classList.replace('fa-eye','fa-eye-slash');}else{f.type='password';ico.classList.replace('fa-eye-slash','fa-eye');}}
function ckpw(v,bi,hi){
  var s=0;if(v.length>=8)s++;if(/[A-Z]/.test(v))s++;if(/[0-9]/.test(v))s++;if(/[^A-Za-z0-9]/.test(v))s++;
  var col=['','#ef5350','#ffa726','#66bb6a','#2e7d32'],lbl=['','Ø¶Ø¹ÙŠÙØ©','Ù…ØªÙˆØ³Ø·Ø©','Ø¬ÙŠØ¯Ø©','Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹'];
  var b=document.getElementById(bi),h=document.getElementById(hi);
  if(b){b.style.width=(s*25)+'%';b.style.background=col[s]||col[1];}
  if(h){h.textContent=s?'Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: '+lbl[s]:'Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©';h.style.color=col[s]||'';}
}
function toast(msg,type){
  var t=document.getElementById('__t');
  if(!t){t=document.createElement('div');t.id='__t';t.style.cssText='position:fixed;bottom:1.5rem;left:50%;transform:translateX(-50%) translateY(100px);color:#fff;padding:.7rem 1.5rem;border-radius:50px;font-size:.79rem;font-weight:700;box-shadow:0 5px 18px rgba(0,0,0,.2);transition:transform .4s cubic-bezier(.34,1.56,.64,1);z-index:9999;display:flex;align-items:center;gap:.45rem;font-family:Cairo,sans-serif;white-space:nowrap';document.body.appendChild(t);}
  t.style.background=type==='err'?'#c62828':'#1b5e42';
  t.innerHTML=(type==='err'?'<i class="fas fa-circle-xmark"></i>':'<i class="fas fa-circle-check"></i>')+msg;
  t.style.transform='translateX(-50%) translateY(0)';
  clearTimeout(t._t);t._t=setTimeout(function(){t.style.transform='translateX(-50%) translateY(100px)';},3200);
}

function setMode(m){
  mode=m;
  document.getElementById('mb-c').classList.toggle('act',m==='citizen');
  document.getElementById('mb-f').classList.toggle('act',m==='facility');
  document.getElementById('lc').style.display=m==='citizen'?'block':'none';
  document.getElementById('lf').style.display=m==='facility'?'block':'none';
  document.getElementById('rc').style.display=m==='citizen'?'block':'none';
  document.getElementById('rf').style.display=m==='facility'?'block':'none';
  if(m==='facility') initFacMap();
}
function switchTab(t){
  document.getElementById('tl').classList.toggle('act',t==='login');
  document.getElementById('tr').classList.toggle('act',t==='register');
  document.getElementById('scr-login').classList.toggle('act',t==='login');
  document.getElementById('scr-reg').classList.toggle('act',t==='register');
  if(t==='register' && mode==='facility') setTimeout(initFacMap, 150);
}

/* CITIZEN REG STEPS */
function pickT(el,type){
  document.querySelectorAll('#cst1 .tc').forEach(function(c){c.classList.remove('sel');});
  el.classList.add('sel'); cType=type;
}
function cSt(n){
  if(n===2){if(!cType){var e=document.getElementById('ct-e');e.style.display='block';e.style.opacity='1';return;}}
  if(n===3){
    var ok=true;
    if(!gv('c-fn').trim()){erf('c-fn');ok=false;}
    if(!gv('c-ln').trim()){erf('c-ln');ok=false;}
    if(!gv('c-dob')){ok=false;toast('ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø·Ù„ÙˆØ¨','err');}
    if(!gv('c-pob').trim()){ok=false;toast('Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø·Ù„ÙˆØ¨','err');}
    if(!gv('c-ffn').trim()){ok=false;toast('Ø§Ø³Ù… Ø§Ù„Ø£Ø¨ Ù…Ø·Ù„ÙˆØ¨','err');}
    if(!gv('c-mfn').trim()||!gv('c-mln').trim()){ok=false;toast('Ø§Ø³Ù… ÙˆÙ„Ù‚Ø¨ Ø§Ù„Ø£Ù… Ù…Ø·Ù„ÙˆØ¨Ø§Ù†','err');}
    var em=gv('c-em');if(!em||!em.includes('@')){erf('c-em');ok=false;}
    if(!gv('c-ph').trim()){erf('c-ph');ok=false;}
    if(!gv('c-wil')){erf('c-wil');ok=false;}
    if(gv('c-nin').length!==18){erf('c-nin');se('c-nin-e');ok=false;}
    if(!gv('c-bcn').trim()){erf('c-bcn');se('c-bcn-e');ok=false;}
    if(!gv('c-fn-fr').trim()){ok=false;toast('Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ù…Ø·Ù„ÙˆØ¨','err');}
    if(!gv('c-ln-fr').trim()){ok=false;toast('Ø§Ù„Ù„Ù‚Ø¨ Ø¨Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© Ù…Ø·Ù„ÙˆØ¨','err');}
    if(!ok){toast('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©','err');return;}
    document.getElementById('c-st').textContent=cType;
    document.getElementById('c-sw').textContent=gv('c-wil');
  }
  document.querySelectorAll('#rc .rstep').forEach(function(s){s.classList.remove('act');});
  var id=typeof n==='string'?'cst-'+n:'cst'+n;
  var el=document.getElementById(id);if(el)el.classList.add('act');
  if(typeof n==='number')updCD(n);
}
function updCD(n){
  for(var i=1;i<=3;i++){
    var d=document.getElementById('cd'+i),s=document.getElementById('cs'+i);
    d.className='sd';if(s)s.className='slb';
    if(i<n){d.classList.add('done');d.innerHTML='<i class="fas fa-check" style="font-size:.52rem"></i>';}
    else if(i===n){d.classList.add('act');d.textContent=i;if(s)s.classList.add('act');}
    else{d.textContent=i;}
    if(i<3){var l=document.getElementById('cl'+i);if(l)l.classList.toggle('done',i<n);}
  }
}
function doRC(){
  var pw=gv('c-pw'),pw2=gv('c-pw2');
  if(pw.length<8){toast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹ (8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)','err');return;}
  if(pw!==pw2){se('c-pw2-e');return;}
  he('c-pw2-e');
  var users=JSON.parse(localStorage.getItem('ordo_users')||'[]');
  var nin=gv('c-nin');
  if(users.find(function(u){return u.nin===nin&&u.role==='citizen';})){toast('Ø±Ù‚Ù… Ø§Ù„ØªØ¹Ø±ÙŠÙ Ø§Ù„ÙˆØ·Ù†ÙŠ Ù…Ø³Ø¬Ù‘Ù„ Ù…Ø³Ø¨Ù‚Ø§Ù‹','err');return;}
  users.push({
    role:'citizen',type:cType,nin:nin,
    fname:gv('c-fn'),lname:gv('c-ln'),
    fnFr:gv('c-fn-fr'),lnFr:gv('c-ln-fr'),
    birthCertNum:gv('c-bcn'),
    dob:gv('c-dob'),pob:gv('c-pob'),
    fatherFname:gv('c-ffn'),fatherLname:gv('c-fln'),
    motherFname:gv('c-mfn'),motherLname:gv('c-mln'),
    email:gv('c-em'),phone:gv('c-ph'),wilaya:gv('c-wil'),
    pw:pw,created:new Date().toLocaleDateString('ar-DZ')
  });
  localStorage.setItem('ordo_users',JSON.stringify(users));
  cSt('ok');
}

/* FACILITY REG */
var facMapInited = false, facMarker = null, facLat = null, facLng = null;

function initFacMap(){
  if(facMapInited) return;
  facMapInited = true;
  setTimeout(function(){
    var map = L.map('reg-map', {zoomControl:true}).setView([28.0339, 1.6596], 5); // Algeria center
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
      attribution:'Â© OpenStreetMap',maxZoom:19
    }).addTo(map);

    var pin = L.icon({
      iconUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
      iconRetinaUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',
      shadowUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
      iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]
    });

    map.on('click', function(e){
      facLat = e.latlng.lat.toFixed(6);
      facLng = e.latlng.lng.toFixed(6);
      if(facMarker) map.removeLayer(facMarker);
      facMarker = L.marker([facLat, facLng], {icon:pin}).addTo(map)
        .bindPopup('<div style="font-family:Cairo,sans-serif;font-size:.78rem;font-weight:700;direction:rtl">ğŸ“ Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙÙ‚Ùƒ</div>').openPopup();
      document.getElementById('disp-lat').textContent = facLat;
      document.getElementById('disp-lng').textContent = facLng;
      document.getElementById('coords-row').style.display = 'grid';
      document.getElementById('reg-map-tip').style.display = 'none';
    });

    // expose map & marker refs for locate button
    window._regMap = map; window._regPin = pin;
  }, 100);
}

function regLocateMe(){
  var btn = document.getElementById('reg-locate-btn');
  if(!navigator.geolocation){ toast('Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹','err'); return; }
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ø¯ÙŠØ¯...';
  btn.disabled = true;
  navigator.geolocation.getCurrentPosition(function(pos){
    var lat = pos.coords.latitude.toFixed(6);
    var lng = pos.coords.longitude.toFixed(6);
    facLat = lat; facLng = lng;
    var map = window._regMap, pin = window._regPin;
    if(map){
      if(facMarker) map.removeLayer(facMarker);
      facMarker = L.marker([lat, lng], {icon:pin}).addTo(map)
        .bindPopup('<div style="font-family:Cairo,sans-serif;font-size:.78rem;font-weight:700;direction:rtl">ğŸ“ Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙÙ‚Ùƒ</div>').openPopup();
      map.setView([lat, lng], 16);
    }
    document.getElementById('disp-lat').textContent = lat;
    document.getElementById('disp-lng').textContent = lng;
    document.getElementById('coords-row').style.display = 'grid';
    document.getElementById('reg-map-tip').style.display = 'none';
    btn.innerHTML = '<i class="fas fa-circle-check"></i>ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ¯';
    btn.style.background = '#2e7d32';
    setTimeout(function(){ btn.innerHTML='<i class="fas fa-location-crosshairs"></i>ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹'; btn.style.background='var(--g)'; btn.disabled=false; }, 2500);
    toast('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹');
  }, function(err){
    var msgs = {1:'Ù„Ù… ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…ÙˆÙ‚Ø¹',2:'ØªØ¹Ø°Ù‘Ø± ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹',3:'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©'};
    toast(msgs[err.code]||'Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹','err');
    btn.innerHTML = '<i class="fas fa-location-crosshairs"></i>ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹';
    btn.disabled = false;
  }, {timeout:10000, enableHighAccuracy:true});
}

function doRF(){
  var ok=true;
  if(!gv('f-tp')){erf('f-tp');se('f-tp-e');ok=false;}
  if(!gv('f-nm').trim()){erf('f-nm');se('f-nm-e');ok=false;}
  if(!gv('f-wil')){erf('f-wil');se('f-wil-e');ok=false;}
  if(!gv('f-ph').trim()){erf('f-ph');ok=false;}
  var em=gv('f-em');if(!em||!em.includes('@')){erf('f-em');se('f-em-e');ok=false;}
  var pw=gv('f-pw'),pw2=gv('f-pw2');
  if(pw.length<8){toast('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹','err');return;}
  if(pw!==pw2){se('f-pw2-e');return;}
  if(!ok){toast('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©','err');return;}
  he('f-em-e');he('f-pw2-e');
  var facs=JSON.parse(localStorage.getItem('ordo_facilities')||'[]');
  if(facs.find(function(f){return f.email===em;})){se('f-em-e');toast('Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³Ø¬Ù‘Ù„ Ø¨Ø§Ù„ÙØ¹Ù„','err');return;}
  facs.push({role:'facility',type:gv('f-tp'),name:gv('f-nm'),wilaya:gv('f-wil'),address:gv('f-ad'),phone:gv('f-ph'),email:em,from:gv('f-fr'),to:gv('f-to'),pw:pw,id:'FAC-'+Date.now(),created:new Date().toLocaleDateString('ar-DZ'),lat:facLat,lng:facLng});
  localStorage.setItem('ordo_facilities',JSON.stringify(facs));
  toast('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø±ÙÙ‚ Ø¨Ù†Ø¬Ø§Ø­!');
  setTimeout(function(){switchTab('login');setMode('facility');},1500);
}

/* LOGIN */
function loginC(){
  var nin=gv('ln-nin'),pw=gv('ln-pw');
  he('ln-nin-e');he('ln-pw-e');
  document.getElementById('ln-nin').classList.remove('er');
  document.getElementById('ln-pw').classList.remove('er');
  if(nin.length!==18){document.getElementById('ln-nin').classList.add('er');se('ln-nin-e');return;}
  if(!pw){document.getElementById('ln-pw').classList.add('er');return;}
  var users=JSON.parse(localStorage.getItem('ordo_users')||'[]');
  var u=users.find(function(x){return x.nin===nin&&x.pw===pw&&x.role==='citizen';});
  if(!u){document.getElementById('ln-pw').classList.add('er');se('ln-pw-e');return;}
  localStorage.setItem('ordo_current',JSON.stringify(u));
  window.location.href='appointments.html';
}
function loginF(){
  var em=gv('lf-em'),pw=gv('lf-pw');
  he('lf-em-e');he('lf-pw-e');
  document.getElementById('lf-em').classList.remove('er');
  document.getElementById('lf-pw').classList.remove('er');
  if(!em||!em.includes('@')){document.getElementById('lf-em').classList.add('er');se('lf-em-e');return;}
  if(!pw){document.getElementById('lf-pw').classList.add('er');return;}
  var facs=JSON.parse(localStorage.getItem('ordo_facilities')||'[]');
  var f=facs.find(function(x){return x.email===em&&x.pw===pw;});
  if(!f){document.getElementById('lf-em').classList.add('er');document.getElementById('lf-pw').classList.add('er');se('lf-em-e');return;}
  localStorage.setItem('ordo_current',JSON.stringify(f));
  window.location.href='facility.html';
}
</script>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</body>
</html>